
<div ng-controller="clientController as ctr" class="container">
	<ul class="nav nav-tabs">
		<li ng-class="{active:ctr.isTab('upload')}"><a href ng-click="ctr.changeTab('upload')">Upload File</a></li>
		<li ng-class="{active:ctr.isTab('input')}"><a href ng-click="ctr.changeTab('input')">Input Text</a></li>
		<li ng-class="{active:ctr.isTab('gui')}"><a href ng-click="ctr.changeTab('gui')">GUI Test</a></li>
  	</ul>
  	<div ng-show="ctr.isTab('upload')">
		<h1>Select text file</h1>
		<input type="file" on-read-file="ctr.postContent($fileContent)" />
			<h2>Text file format</h2>
			<pre>{{inputFormat}}</pre>
			<h2>API output:</h2>
			<pre style="white-space: pre-wrap;">{{contents}}{{error}}</pre>
	</div>
	<div ng-show="ctr.isTab('input')">
		<h1>Input Text</h1>
		{{ctr.inputNew}}
		<form ng-submit="ctr.postContent2(inputExample)">
			<textarea rows='10' style="width:100%" ng-model='inputExample'>{{inputExample}}</textarea>
			<button type='submit'>Submit</button>
		</form><button ng-click='ctr.clearText()'>Clear</button>
			<h2>Text file format</h2>
			<pre>{{inputFormat}}</pre>
		<h2>API output:</h2>
			<pre style="white-space: pre-wrap;">{{contents2}}</pre>
	</div>
	<div ng-show="ctr.isTab('gui')">
		<h1>Search for news articles</h1>
		<div class="jumbotron">

			<form>

				<h4>Start date:</h4>
				<input type="datetime-local" step="0.001" value="{{ctr.curr_display_time}}" name="startdate">
				<h4>End date:</h4>
				<input type="datetime-local" step="0.001" value="{{ctr.curr_display_time}}" name="enddate">


				<h4>Select topic codes:</h4>
				<div ng-controller='codeController as codes'>
					<div click-anywhere-but-here='codes.setSelectedTpc(false)'>


							<div class='row'>

								<div class='col-xs-3'>
									<input type="text" class='form-control' ng-model='codes.searchForTpc' ng-change="codes.searchTpc(codes.searchForTpc)" ng-focus='codes.setSelectedTpc(true)'>
									 <span class="caret"></span>
									<div ng-show='codes.textSelectedTpc'>
										<div >
											<li ng-repeat='code in searchCodesTpc' ng-click='codes.addCodeTpc(code)' class='list-group-item'>{{code}}</li>
										</div>
									</div>
								</div>

								<div class='col-xs-9'>
									<div class='code-area'>
										<span class='btn btn-success btn-sm code-tag' ng-repeat='code in currentCodesTpc' ng-click='codes.removeCodeTpc(code)'>{{code}}</span>
									</div>
								</div>

							</div>

					</div>

				</div>

<!-- 
				<h4>Select instrument codes:</h4>
				<div click-anywhere-but-here='codes.setSelectedInstr(false)'>
					<div class='code-area'>
						<span class='btn btn-success btn-sm code-tag' ng-repeat='code in currentCodesInstr' ng-click='codes.removeCodeInstr(code)'>{{code}}</span>
					</div>
					<input type="text" class='form-control code-width' ng-model='codes.searchForInstr' ng-change="codes.searchInstr(codes.searchForInstr)" ng-focus='codes.setSelectedInstr(true)'>
					<div ng-show='codes.textSelectedInstr'>
						<div class='code-option code-width'> 
							<li ng-repeat='code in searchCodesInstr' ng-click='codes.addCodeInstr(code)'>{{code}}</li>
						</div>
					</div>
				</div>
 -->
				<button class='btn btn-primary btn-lg' type='button'>Search</button>

			</form>
		</div>
	</div>
</div>
